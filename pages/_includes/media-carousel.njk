{% macro media_carousel(slides, background_color, caption, splitNav = false) %}
    <figure class="{{ background_color if background_color }}">
    <media-carousel>
        <div class="swiper-container w-full h-full" style="overflow: visible !important;">
            {% if splitNav %}
                <nav class="car-nav flex flex-row justify-between relative z-20 m-auto -mt-10 top-52">
                    <div class="pt-3 pb-1 pl-5 pr-3 bg-ams-white shadow-md">
                        <button class="carousel-button-prev inline-block w-4 h-4 transform rotate-45 justify-self-end border-b-2 border-l-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                            previous
                        </button>
                    </div>
                    <div class="pt-3 pb-1 pl-3 pr-5 bg-ams-white shadow-md">
                        <button class="carousel-button-next inline-block w-4 h-4 transform rotate-45 justify-self-start border-t-2 border-r-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                            next
                        </button>
                    </div>
                </nav>
            {% endif %}
            <div class="swiper-wrapper z-10">
                    {% for slide in slides %}
                        <div class="swiper-slide">
                            <picture>
                            {% for direction in slide.artDirection %}
                                <source 
                                    data-src="{{ direction.src }}.webp"
                                    data-srcset="{{ direction | imgObjSrcSet('webp') }}"
                                    media="{{ direction.media }}"
                                    sizes="{{ direction.sizes if direction.sizes else '75vw' }}"
                                    type="image/webp">
                                <source 
                                    data-src="{{ direction.src }}.{{ direction.type if direction.type else 'jpg' }}"
                                    data-srcset="{{ direction | imgObjSrcSet }}" 
                                    media="{{ direction.media }}"
                                    sizes="{{ direction.sizes if direction.sizes else '75vw' }}"
                                    type="image/{{ direction.type | getImgSourceType }}">
                            {% endfor %}
                            {% set default = slide.artDirection|first %}
                                <img 
                                    data-srcset="{{ default | imgObjSrcSet }}"
                                    data-src="{{ default.src }}.{{ default.type if default.type else 'jpg' }}" 
                                    class="swiper-lazy w-full h-auto {{ 'px-5' if splitNav }}"
                                    sizes="{{ default.sizes if default.sizes else '75vw' }}" 
                                    alt="{{ default.imgalt }}">
                                <div class="swiper-lazy-preloader"></div>
                            </picture>
                        </div>
                    {% endfor %}
            </div>
            {% if not splitNav %}
                <nav class="flex flex-row items-center relative z-20 m-auto w-max -top-4 py-2 px-4 bg-ams-white shadow-md">
                    <button class="carousel-button-prev inline-block w-4 h-4 transform rotate-45 justify-self-end border-b-2 border-l-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                        previous
                    </button>
                    <span class="px-4 whitespace-nowrap text-ams-gold">
                        <span class="carousel-pagination"></span>
                    </span>
                    <button class="carousel-button-next inline-block w-4 h-4 transform rotate-45 justify-self-start border-t-2 border-r-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                        next
                    </button>
                </nav>
            {% endif %}
            {% if caption %}
            <figcaption class="max-w-xl pt-6 pb-4 px-4 m-auto text-center text-ams-primary">
                {{ caption }}
            </figcaption>
            {% endif %}
        </div>
    </media-carousel>
    </figure>
    
{% endmacro %}

{% macro special_carousel(slides) %}
    <figure>
    <media-carousel>
        <div class="swiper-container w-full h-full">
            
            <div class="swiper-wrapper z-10">
                    {% for slide in slides %}
                        <div class="swiper-slide">
                            <picture>
                            {% for direction in slide.artDirection %}
                                <source 
                                    data-src="{{ direction.src }}.webp"
                                    data-srcset="{{ direction | imgObjSrcSet('webp') }}"
                                    media="{{ direction.media }}"
                                    sizes="{{ direction.sizes if direction.sizes else '75vw' }}"
                                    type="image/webp">
                                <source 
                                    data-src="{{ direction.src }}.{{ direction.type if direction.type else 'jpg' }}"
                                    data-srcset="{{ direction | imgObjSrcSet }}" 
                                    media="{{ direction.media }}"
                                    sizes="{{ direction.sizes if direction.sizes else '75vw' }}"
                                    type="image/{{ direction.type | getImgSourceType }}">
                            {% endfor %}
                            {% set default = slide.artDirection|first %}
                                <img 
                                    data-srcset="{{ default | imgObjSrcSet }}"
                                    data-src="{{ default.src }}.{{ default.type if default.type else 'jpg' }}" 
                                    class="swiper-lazy w-full h-auto {{ 'px-5' if splitNav }}"
                                    sizes="{{ default.sizes if default.sizes else '75vw' }}" 
                                    alt="{{ default.imgalt }}">
                                <div class="swiper-lazy-preloader"></div>
                            </picture>
                        </div>
                    {% endfor %}
            </div>
            <section class="w-full grid my-2">
                <div class="xmed:mx-9 xmed:pb-4 px-4 xmed:p-6 shadow-sm xmed:shadow-md bg-ams-white mx-6 pt-6 pb-6">
                <div class="xmed:text-center text-lg max-w-6xl mx-auto">Rest and relaxation is ensured with luxurious robes and Rivolta Italian bed linens, plush Sealy mattresses and 100% organic bath amenities by Juice Beauty.</div>
                </div>
            </section>
            <nav class="flex flex-row items-center relative z-20 m-auto w-max py-2 px-4 bg-ams-white shadow-md mt-2">
                <button class="carousel-button-prev inline-block w-4 h-4 transform rotate-45 justify-self-end border-b-2 border-l-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                    previous
                </button>
                <span class="px-4 whitespace-nowrap text-ams-gold">
                    <span class="carousel-pagination"></span>
                </span>
                <button class="carousel-button-next inline-block w-4 h-4 transform rotate-45 justify-self-start border-t-2 border-r-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                    next
                </button>
            </nav>
            
            
        </div>
    </media-carousel>
    </figure>
    
{% endmacro %}

{% macro press_carousel(slides, background_color) %}
    <figure class="{{ background_color if background_color }} overflow-hidden">
    <media-carousel>
        <div class="swiper-container w-full h-full" style="overflow: visible !important;">
            <div class="swiper-wrapper z-10">
                    {% for slide in slides %}
                        <div class="swiper-slide">
                            <figcaption >
                                <header class="p-4">
                                    <h2 class="title-display text-left xmed:text-center text-2xl my-4">{{slide.heading}}</h2>
                                    <div class="my-4 flex space-x-2 justify-start xmed:justify-center">
                                        <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.1033 1.31699C11.4701 0.57374 12.5299 0.57374 12.8967 1.31699L15.5879 6.76995C15.7336 7.06509 16.0152 7.26966 16.3409 7.31699L22.3586 8.19141C23.1788 8.3106 23.5063 9.31857 22.9128 9.89711L18.5583 14.1416C18.3227 14.3714 18.2151 14.7024 18.2707 15.0268L19.2987 21.0202C19.4388 21.8371 18.5814 22.46 17.8477 22.0743L12.4653 19.2446C12.174 19.0915 11.826 19.0915 11.5347 19.2446L6.15226 22.0743C5.41864 22.46 4.5612 21.8371 4.70131 21.0202L5.72926 15.0268C5.7849 14.7024 5.67735 14.3714 5.44166 14.1416L1.08721 9.8971C0.493698 9.31857 0.821208 8.3106 1.64143 8.19141L7.65913 7.31699C7.98484 7.26966 8.2664 7.06509 8.41207 6.76995L11.1033 1.31699Z" fill="#354656"/>
                                        </svg>
                                        <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.1033 1.31699C11.4701 0.57374 12.5299 0.57374 12.8967 1.31699L15.5879 6.76995C15.7336 7.06509 16.0152 7.26966 16.3409 7.31699L22.3586 8.19141C23.1788 8.3106 23.5063 9.31857 22.9128 9.89711L18.5583 14.1416C18.3227 14.3714 18.2151 14.7024 18.2707 15.0268L19.2987 21.0202C19.4388 21.8371 18.5814 22.46 17.8477 22.0743L12.4653 19.2446C12.174 19.0915 11.826 19.0915 11.5347 19.2446L6.15226 22.0743C5.41864 22.46 4.5612 21.8371 4.70131 21.0202L5.72926 15.0268C5.7849 14.7024 5.67735 14.3714 5.44166 14.1416L1.08721 9.8971C0.493698 9.31857 0.821208 8.3106 1.64143 8.19141L7.65913 7.31699C7.98484 7.26966 8.2664 7.06509 8.41207 6.76995L11.1033 1.31699Z" fill="#354656"/>
                                        </svg>
                                        <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.1033 1.31699C11.4701 0.57374 12.5299 0.57374 12.8967 1.31699L15.5879 6.76995C15.7336 7.06509 16.0152 7.26966 16.3409 7.31699L22.3586 8.19141C23.1788 8.3106 23.5063 9.31857 22.9128 9.89711L18.5583 14.1416C18.3227 14.3714 18.2151 14.7024 18.2707 15.0268L19.2987 21.0202C19.4388 21.8371 18.5814 22.46 17.8477 22.0743L12.4653 19.2446C12.174 19.0915 11.826 19.0915 11.5347 19.2446L6.15226 22.0743C5.41864 22.46 4.5612 21.8371 4.70131 21.0202L5.72926 15.0268C5.7849 14.7024 5.67735 14.3714 5.44166 14.1416L1.08721 9.8971C0.493698 9.31857 0.821208 8.3106 1.64143 8.19141L7.65913 7.31699C7.98484 7.26966 8.2664 7.06509 8.41207 6.76995L11.1033 1.31699Z" fill="#354656"/>
                                        </svg>
                                        <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.1033 1.31699C11.4701 0.57374 12.5299 0.57374 12.8967 1.31699L15.5879 6.76995C15.7336 7.06509 16.0152 7.26966 16.3409 7.31699L22.3586 8.19141C23.1788 8.3106 23.5063 9.31857 22.9128 9.89711L18.5583 14.1416C18.3227 14.3714 18.2151 14.7024 18.2707 15.0268L19.2987 21.0202C19.4388 21.8371 18.5814 22.46 17.8477 22.0743L12.4653 19.2446C12.174 19.0915 11.826 19.0915 11.5347 19.2446L6.15226 22.0743C5.41864 22.46 4.5612 21.8371 4.70131 21.0202L5.72926 15.0268C5.7849 14.7024 5.67735 14.3714 5.44166 14.1416L1.08721 9.8971C0.493698 9.31857 0.821208 8.3106 1.64143 8.19141L7.65913 7.31699C7.98484 7.26966 8.2664 7.06509 8.41207 6.76995L11.1033 1.31699Z" fill="#354656"/>
                                        </svg>
                                        <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.1033 1.31699C11.4701 0.57374 12.5299 0.57374 12.8967 1.31699L15.5879 6.76995C15.7336 7.06509 16.0152 7.26966 16.3409 7.31699L22.3586 8.19141C23.1788 8.3106 23.5063 9.31857 22.9128 9.89711L18.5583 14.1416C18.3227 14.3714 18.2151 14.7024 18.2707 15.0268L19.2987 21.0202C19.4388 21.8371 18.5814 22.46 17.8477 22.0743L12.4653 19.2446C12.174 19.0915 11.826 19.0915 11.5347 19.2446L6.15226 22.0743C5.41864 22.46 4.5612 21.8371 4.70131 21.0202L5.72926 15.0268C5.7849 14.7024 5.67735 14.3714 5.44166 14.1416L1.08721 9.8971C0.493698 9.31857 0.821208 8.3106 1.64143 8.19141L7.65913 7.31699C7.98484 7.26966 8.2664 7.06509 8.41207 6.76995L11.1033 1.31699Z" fill="#354656"/>
                                        </svg>
                                    </div>
                                    <p class="max-w-3xl mx-auto my-4 text-left xmed:text-center break-words font-sans text-lg text-ams-primary">{{slide.quote}}</p>
                                    <p class="text-left xmed:text-center my-4 font-sans font-bold text-lg text-ams-primary">{{slide.p}}</p>
                                    <div class="text-left xmed:text-center">
                                        <a class="my-4 inline-block border-b border-ams-gold text-ams-gold font-serif font-medium text-lg text-center" href="{{slide.link}}">{{slide.textLink}}</a>
                                    <div>
                                </header>
                            </figcaption>
                        </div>
                    {% endfor %}
            </div>            
            <nav class="flex flex-row items-center relative z-20 m-auto w-max -top-4 py-2 px-4 bg-ams-white shadow-md">
                <button class="carousel-button-prev inline-block w-4 h-4 transform rotate-45 justify-self-end border-b-2 border-l-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                    previous
                </button>
                <span class="px-4 whitespace-nowrap text-ams-gold">
                    <span class="carousel-pagination"></span>
                </span>
                <button class="carousel-button-next inline-block w-4 h-4 transform rotate-45 justify-self-start border-t-2 border-r-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                    next
                </button>
            </nav>
        </div>
    </media-carousel>
    </figure>    
{% endmacro %}